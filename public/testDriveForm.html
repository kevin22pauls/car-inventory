<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Test Drive</title>
    <link rel="stylesheet" href="styles_3.css">

</head>
<body>

    
    <div class="form-container">
        <h1>Book Your Test Drive</h1>
        <form id="testDriveForm">
            <input type="hidden" id="car_id" name="car_id">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required>

            <label for="mobile">Mobile Number:</label>
            <input type="tel" id="mobile" name="mobile" required>

            <label for="email">Email ID:</label>
            <input type="email" id="email" name="email" required>

            <label for="license">Do you have a license?</label>
            <select id="license" name="license" required>
                <option value="">-- Select --</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>

            <button type="submit">Submit</button>
        </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            const params = new URLSearchParams(window.location.search);
            $('#car_id').val(params.get('car_id'));

            $('#testDriveForm').on('submit', function (e) {
                e.preventDefault();
                $.post('/book-testdrive', $(this).serialize(), function (response) {
                    alert(response.message);
                    window.location.href = 'bookingConfirmation.html';
                }).fail(function (err) {
                    alert('Failed to book test drive.');
                });
            });
        });
    </script>
</body>
</html>
